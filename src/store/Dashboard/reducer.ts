import {
  GET_SEARCH_LOAD_END,
  GET_SEARCH_LOAD_START,
  GET_MARKERS_LOAD_START,
  GET_MARKERS_LOAD_END,
  GET_VRBO_MARKERS_LOAD_START,
  GET_VRBO_MARKERS_LOAD_END,
  GET_VISIBLE_LISTINGS_LOAD_START,
  GET_VISIBLE_LISTINGS_LOAD_END,
  GET_VISIBLE_VRBO_LISTINGS_LOAD_START,
  GET_VISIBLE_VRBO_LISTINGS_LOAD_END,
  GET_MULTIPLE_MARKERS_CALL_LOAD_START,
  GET_MULTIPLE_MARKERS_CALL_LOAD_END,
  SEARCH_CHANGE,
  SET_USER_INFO,
} from 'src/store/Dashboard/types';

const initialState = {
  listings: {
    data: null,
    loading: true,
  },
  vrboListings: {
    data: null,
    loading: true,
  },
  visibleListings: {
    data: null,
    loading: true,
  },
  visibleVRBOListings: {
    data: null,
    loading: true,
  },
  multipleMarkersCallLoading: true,
  search: {
    data: {
      name: 'The City of Brighton and Hove',
      city: '',
      country: 'United Kingdom',
      lat: 50.821368,
      lng: -0.133584,
      polygon:
        'POLYGON((-0.13497950000018 50.88662699999983,-0.13579300000021 50.88074099999983,-0.1352535000002 50.87809749999985,-0.12947300000019 50.87871549999983,-0.1241795000002 50.87796799999984,-0.1242690000002 50.87617849999984,-0.12220350000021 50.87611399999983,-0.1217690000002 50.87342049999984,-0.1152825000002 50.87421799999984,-0.11133000000021 50.87314599999985,-0.1048840000002 50.87233349999985,-0.1034635000002 50.87276449999985,-0.1044315000002 50.87459549999986,-0.09793200000018 50.87653349999985,-0.0984440000002 50.87749099999985,-0.0974875000002 50.87793749999983,-0.09476950000021001 50.87652949999983,-0.09432850000019 50.87677399999984,-0.08489600000019 50.87311149999985,-0.0860700000002 50.87106299999985,-0.08283300000019 50.86743949999985,-0.0841030000002 50.86690499999983,-0.08320500000019 50.86316299999984,-0.0816390000002 50.86067949999983,-0.07998300000020001 50.86092399999984,-0.0788010000002 50.85379399999985,-0.07246700000019 50.84831999999983,-0.07074800000021 50.84581,-0.07235800000021 50.84403249999986,-0.07341050000019 50.84123599999984,-0.0625895000002 50.84151849999984,-0.05355700000021 50.84427649999984,-0.04879350000019 50.84437549999984,-0.04555400000021 50.84495949999985,-0.04342500000021 50.84427649999984,-0.04334500000019 50.84331149999982,-0.04256000000021 50.84271249999983,-0.0368110000002 50.84122849999982,-0.03620050000021 50.83956899999984,-0.0389600000002 50.83785999999984,-0.03804500000021 50.83640299999985,-0.0388245000002 50.83466699999985,-0.0390725000002 50.82862099999985,-0.0424265000002 50.82424149999983,-0.04578900000021 50.82352449999985,-0.04545250000021 50.82236499999985,-0.04593700000021 50.82181549999984,-0.03965400000021 50.82151799999985,-0.03097150000019 50.81740549999984,-0.0263085000002 50.81800849999985,-0.0203970000002 50.82181949999983,-0.01597100000021 50.81486499999986,-0.02059150000019 50.81287749999984,-0.02804750000021 50.80835699999983,-0.0317340000002 50.80453499999985,-0.03706500000021 50.80091499999983,-0.03817650000019 50.79950349999984,-0.0391055000002 50.79831349999984,-0.05809350000021 50.80292899999984,-0.05813600000019 50.80293999999984,-0.0582430000002 50.80296499999983,-0.09022250000021 50.81073849999984,-0.08994750000019 50.79809949999984,-0.11126100000021 50.80069899999984,-0.10908450000019 50.81204299999985,-0.1367630000002 50.81707499999985,-0.1379805000002 50.81502599999984,-0.1377525000002 50.81718099999983,-0.1587585000002 50.82093199999982,-0.21637800000019 50.82626499999984,-0.21600900000021 50.82756399999985,-0.21526600000021 50.83036049999984,-0.21655700000019 50.83067299999985,-0.21663700000019 50.83295449999982,-0.21753900000019 50.83307249999984,-0.2283750000002 50.84562699999984,-0.2292965000002 50.84572599999984,-0.23058800000021 50.84830849999983,-0.2353540000002 50.85240149999984,-0.23635350000021 50.85751349999983,-0.23896550000021 50.85871499999985,-0.23972450000019 50.86194249999986,-0.24494250000021 50.86379999999985,-0.24054750000019 50.86519249999984,-0.23752200000021 50.87178049999983,-0.23379150000019 50.87514899999985,-0.22669050000019 50.87817399999983,-0.2254935000002 50.87805949999984,-0.2245260000002 50.87628549999985,-0.21411800000021 50.87517149999985,-0.2138530000002 50.87045649999984,-0.20537250000021 50.87007899999983,-0.20244150000019 50.87563299999984,-0.20089200000021 50.87490449999984,-0.1989590000002 50.87011349999983,-0.19732500000021 50.86954099999986,-0.1943420000002 50.86963649999984,-0.18770550000019 50.86856099999983,-0.1897185000002 50.87440849999984,-0.18769650000019 50.87557599999985,-0.18624100000019 50.87566749999985,-0.18504300000021 50.87657549999983,-0.18183200000019 50.88089749999983,-0.18127250000021 50.88364049999984,-0.18239350000019 50.88831699999983,-0.18075300000021 50.88834399999985,-0.1777835000002 50.89046499999983,-0.1693065000002 50.88992299999984,-0.16858150000019 50.89236049999985,-0.16583500000019 50.89232249999984,-0.16814300000019 50.88557799999984,-0.16760050000019 50.88479249999983,-0.16843600000021 50.88190449999985,-0.16809650000019 50.88074099999983,-0.1616310000002 50.88095449999982,-0.1554280000002 50.87976849999984,-0.15294300000019 50.87985249999983,-0.15314650000019 50.88489549999983,-0.15249600000021 50.88543699999985,-0.14458150000019 50.88697049999985,-0.1420640000002 50.88581099999985,-0.14237550000019 50.88428099999985,-0.1371105000002 50.88457099999985,-0.13497950000018 50.88662699999983))',
      countryCode: 'GB',
      bounds: [-0.24494250000021, 50.79809949999984, -0.01597100000021, 50.89236049999985],
    },
    loading: false,
  },
  user: {
    userName: 'Trial',
    email: 'Trial',
    regions: [],
    role: 'Trial',
    userDescription: 'Trial',
    credits: 0,
    estimatorCredits: 0,
    userSignUpDay: '',
    isAirbnbLoggedIn: false,
    betaUser: true,
    isSubscribed: false,
    hasAdditionalFreeMonthTrial: false,
    ab_test_pricing_group: '',
  },
  isUserAllowed: true,
};

export const dashboardReducer = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state;
    case GET_MARKERS_LOAD_START:
      return { ...state, listings: { ...state.listings, loading: true } };
    case GET_MARKERS_LOAD_END:
      return { ...state, listings: { data: action.payload, loading: false } };
    case GET_VRBO_MARKERS_LOAD_START:
      return { ...state, vrboListings: { ...state.vrboListings, loading: true } };
    case GET_VRBO_MARKERS_LOAD_END:
      return { ...state, vrboListings: { data: action.payload, loading: false } };
    case GET_VISIBLE_LISTINGS_LOAD_START:
      return { ...state, visibleListings: { ...state.visibleListings, loading: true } };
    case GET_VISIBLE_LISTINGS_LOAD_END:
      return { ...state, visibleListings: { data: action.payload, loading: false } };
    case GET_VISIBLE_VRBO_LISTINGS_LOAD_START:
      return { ...state, visibleVRBOListings: { ...state.visibleVRBOListings, loading: true } };
    case GET_VISIBLE_VRBO_LISTINGS_LOAD_END:
      return { ...state, visibleVRBOListings: { data: action.payload, loading: false } };
    case GET_MULTIPLE_MARKERS_CALL_LOAD_START:
      return { ...state, multipleMarkersCallLoading: true };
    case GET_MULTIPLE_MARKERS_CALL_LOAD_END:
      return { ...state, multipleMarkersCallLoading: false };
    case GET_SEARCH_LOAD_START:
      return { ...state, search: { ...state.search, loading: true } };
    case GET_SEARCH_LOAD_END:
      return { ...state, search: { ...state.search, loading: false } };
    case SEARCH_CHANGE:
      return { ...state, search: { ...state.search, ...action.payload } };
    case SET_USER_INFO:
      return { ...state, user: { ...action.payload } };
  }
};
